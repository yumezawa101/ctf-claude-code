# /ctf-auto - 対話式CTFソルバー

問題取得から回答提出まで、対話形式で設定して自動化。

## 使用法

```
/ctf-auto
```

引数なしで起動すると、対話形式で設定を聞きます。

## 対話フロー

```
/ctf-auto

┌─────────────────────────────────────────────────────────┐
│ CTF Auto Solver - 設定                                   │
├─────────────────────────────────────────────────────────┤
│                                                          │
│ [1] プラットフォームURL                                   │
│     > https://ctf.example.com                            │
│     (空欄: problems.jsonを使用)                          │
│                                                          │
│ [2] ログイン情報（URLを入力した場合）                      │
│     ユーザー名 > admin                                    │
│     パスワード > ********                                 │
│                                                          │
│ [3] カテゴリ絞り込み                                      │
│     > web,crypto                                          │
│     (空欄: 全カテゴリ)                                    │
│                                                          │
│ [4] 解きたい問題                                          │
│     > Login Bypass, RSA Easy                             │
│     (空欄: 全問題)                                        │
│                                                          │
│ [5] 配点フィルタ                                          │
│     最小 > 100                                            │
│     最大 > 300                                            │
│     (空欄: 制限なし)                                      │
│                                                          │
│ [6] フラグ自動提出                                        │
│     > y                                                   │
│     (y/N)                                                 │
│                                                          │
└─────────────────────────────────────────────────────────┘

設定完了。実行を開始します...
```

## 設定項目

| 項目 | 説明 | デフォルト |
|------|------|-----------|
| URL | CTFプラットフォームのURL | problems.json使用 |
| ユーザー名 | ログイン用 | - |
| パスワード | ログイン用 | - |
| カテゴリ | web,crypto,forensics,pwn,osint | 全て |
| 問題名 | カンマ区切りで指定 | 全て |
| 最小配点 | この配点以上の問題のみ | 0 |
| 最大配点 | この配点以下の問題のみ | ∞ |
| 自動提出 | フラグを自動でsubmit | No |

## 実行フロー

```
┌─────────────────────────────────────────────────────────┐
│ 1. 問題取得                                              │
│    - URL指定時: Playwright MCPでスクレイピング           │
│    - URL未指定: problems.json から読み込み               │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│ 2. フィルタリング                                        │
│    - カテゴリ / 問題名 / 配点 で絞り込み                 │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│ 3. 並列解析                                              │
│    - カテゴリ別エージェントが同時実行                    │
│    - 各問題: 5分ルールで自動スキップ                     │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│ 4. フラグ提出（自動提出=yの場合）                        │
│    - Playwrightで自動入力・送信                          │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│ 5. 結果レポート                                          │
│    - 解決/未解決/スキップ一覧                            │
│    - 獲得ポイント                                        │
└─────────────────────────────────────────────────────────┘
```

## 対応プラットフォーム

| プラットフォーム | 自動取得 | 自動提出 |
|-----------------|---------|---------|
| CTFd           | ✓       | ✓       |
| rCTF           | ✓       | ✓       |
| picoCTF        | ✓       | ✓       |
| カスタム        | 要設定   | 要設定   |

## problems.json の形式

URLを使わない場合、`problems.json` を作成：

```json
{
  "contest": "CTF大会名",
  "problems": [
    {"name": "Login Bypass", "category": "web", "points": 100, "url": "http://..."},
    {"name": "RSA Easy", "category": "crypto", "points": 100, "file": "rsa.txt"},
    {"name": "Hidden Flag", "category": "forensics", "points": 150, "file": "image.png"}
  ]
}
```

## 使用例

### 全自動（URL指定）

```
/ctf-auto
> URL: https://ctf.example.com
> ユーザー名: myteam
> パスワード: ****
> カテゴリ: (空欄)
> 問題: (空欄)
> 最小配点: (空欄)
> 最大配点: (空欄)
> 自動提出: y
```

### 特定カテゴリのみ

```
/ctf-auto
> URL: (空欄)
> カテゴリ: web,crypto
> 問題: (空欄)
> 自動提出: n
```

### 特定の問題だけ

```
/ctf-auto
> URL: (空欄)
> カテゴリ: (空欄)
> 問題: Login Bypass, Hidden Flag
> 自動提出: n
```
