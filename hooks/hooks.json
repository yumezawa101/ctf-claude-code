{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "tool == \"Bash\"",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/hooks/ctf-flag-detect.js\""
          }
        ],
        "description": "CTF: Bash出力にフラグパターンがあれば自動検出"
      }
    ],
    "SessionEnd": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/hooks/ctf-session-save.js\""
          },
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/scripts/hooks/ctf-learning-sync.js\""
          }
        ],
        "description": "CTF: セッション終了時に解法パターンを抽出・保存し、学習データを同期"
      }
    ]
  }
}
